{"name": "test_login_book[datas0]", "status": "broken", "statusDetails": {"message": "KeyError: 0", "trace": "datas = {'前置条件': '', '接口名称': '登录授权', '是否运行': 'y', '期望结果': '', ...}\n\n    @pytest.mark.parametrize('datas',excel.runs())\n    \n    def test_login_book(datas):\n    \n    \t\"\"\"将前置执行测试用例封装成函数放在了operationExcel\"\"\"\n    \n    \tdef case_assert_result(r):\n    \t\t\"\"\"封装断言\"\"\"\n    \t\tassert datas[ExcelVar.statusCode] == r.status_code\n    \t\tassert datas[ExcelVar.expect] in json.dumps(r.json(), ensure_ascii=False)\n    \n    \tdef ReUrl():\n    \t\t# 上下参数关联，添加数据的bookID，后面要查看、修改、删除此bookID的书籍，因此，url需要替换掉bookID，用函数封装\n    \t\turl = str(datas[ExcelVar.caseUrl]).replace('{bookID}', readContent())\n    \t\treturn url\n    \n    \n    \tif datas[ExcelVar.method]=='get':\n    \t\tif 'books' in datas[ExcelVar.caseUrl]:\n    \t\t\tr = obj.get(url=datas[ExcelVar.caseUrl],\n    \t\t\t            headers=excel.runPreCase(datas[ExcelVar.casePre],datas[ExcelVar.headers]))\n    \t\t\tcase_assert_result(r=r)\n    \t\telse:\n    \t\t\tr = obj.get(url=ReUrl(),\n    \t\t\t            headers=excel.runPreCase(datas[ExcelVar.casePre],datas[ExcelVar.headers]))\n    \t\t\tcase_assert_result(r=r)\n    \n    \n    \telif datas[ExcelVar.method]=='post':\n    \t\tr = obj.post(url=datas[ExcelVar.caseUrl],\n    \t\t            json = excel.params(datas[ExcelVar.params]),\n    \t\t            headers=excel.runPreCase(datas[ExcelVar.casePre],datas[ExcelVar.headers])) # 登录没有请求头，但是这个headers在这会干扰，在登录时也会执行前置测试点\n    \n    \t\t# 将bookID写到文件中\n>   \t\twriteContent(content=r.json()[0]['datas']['id'])\nE     KeyError: 0\n\ntest_login_token_book.py:46: KeyError"}, "description": "将前置执行测试用例封装成函数放在了operationExcel", "parameters": [{"name": "datas", "value": "{'测试用例ID': 'login', '模块': '登录', '接口名称': '登录授权', '请求地址': 'http://127.0.0.1:5000/auth', '前置条件': '', '请求方法': 'post', '请求参数类型': '', '请求参数': '{\"username\":\"wuya\",\"password\":\"asd888\"}', '期望结果': '', '是否运行': 'y', '请求头': '', '状态码': 200.0}"}], "start": 1600332630839, "stop": 1600332630880, "uuid": "ed6f8319-bf72-4c63-aff1-a2e01a6998a5", "historyId": "6eba89be57aaa519c6c26b29871e1dd6", "testCaseId": "6c2a60f5dd0b782747a1035c58f92078", "fullName": "test_login_token_book#test_login_book", "labels": [{"name": "suite", "value": "test_login_token_book"}, {"name": "host", "value": "DADI--20171020J"}, {"name": "thread", "value": "3944-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_login_token_book"}]}